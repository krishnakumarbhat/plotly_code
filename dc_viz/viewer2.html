<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Log Viewer</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    .page {
      padding: 12px 16px 16px 16px;
    }
    .toolbar {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 12px;
    }
    .toolbar label {
      font-weight: bold;
    }
    .toolbar input[type='text'] {
      padding: 4px 6px;
      min-width: 200px;
    }
    .toolbar select {
      padding: 4px 6px;
    }
    .layout {
      display: grid;
      grid-template-columns: 1.5fr 2fr;
      grid-template-rows: auto;
      grid-gap: 8px;
      height: calc(100vh - 70px);
    }
    .video-panel {
      border: 2px solid #d33;
      padding: 4px;
    }
    .video-panel video {
      width: 100%;
      height: 100%;
      max-height: 100%;
      background: #000;
    }
    .links-panel {
      border: 2px solid #3a3;
      padding: 8px;
      overflow: auto;
    }
    .links-panel h3 {
      margin-top: 0;
    }
    .html-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }
    .html-buttons button {
      padding: 4px 8px;
      cursor: pointer;
    }
    .no-data {
      color: #666;
      font-style: italic;
    }
  </style>
</head>
<body>
  <div class="page">
    <div class="toolbar">
      <label for="logName">Log name</label>
      <input id="logName" type="text" readonly value="1_asdf" />
      <label for="scenarioSelect">Select scenario</label>
      <select id="scenarioSelect"></select>
    </div>

    <div class="layout">
      <div class="video-panel">
        <video id="videoPlayer" controls></video>
      </div>

      <div class="links-panel">
        <h3>HTML views</h3>
        <div id="htmlButtons" class="html-buttons"></div>
        <div id="noHtmlMsg" class="no-data" style="display:none;">
          No HTML files mapped for this scenario.
        </div>
      </div>
    </div>
  </div>

  <script>
    const mappings = {
  "1_asdf": {
    "video": "db/video/SADHFKJASDF_1_asdf.avi",
    "html_files": [
      "db/html/CCA_9010_1_asdf/CCA_9010_3100099_DEBUG_20250828_163718_0001.html",
      "db/html/CCA_9010_1_asdf/FL/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163718_0001_FL_general.html",
      "db/html/CCA_9010_1_asdf/FL/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163718_0001_FL_histogram.html",
      "db/html/CCA_9010_1_asdf/FL/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163718_0001_FL_mismatch.html",
      "db/html/CCA_9010_1_asdf/FR/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163718_0001_FR_general.html",
      "db/html/CCA_9010_1_asdf/FR/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163718_0001_FR_histogram.html",
      "db/html/CCA_9010_1_asdf/FR/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163718_0001_FR_mismatch.html",
      "db/html/CCA_9010_1_asdf/RL/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163718_0001_RL_general.html",
      "db/html/CCA_9010_1_asdf/RL/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163718_0001_RL_histogram.html",
      "db/html/CCA_9010_1_asdf/RL/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163718_0001_RL_mismatch.html",
      "db/html/CCA_9010_1_asdf/RR/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163718_0001_RR_general.html",
      "db/html/CCA_9010_1_asdf/RR/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163718_0001_RR_histogram.html",
      "db/html/CCA_9010_1_asdf/RR/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163718_0001_RR_mismatch.html"
    ]
  },
  "2_sdf": {
    "video": "db/video/dsfgfsd_2_sdf.mp4",
    "html_files": [
      "db/html/CCA_9010_2_sdf/CCA_9010_3100099_DEBUG_20250828_163733_0002.html",
      "db/html/CCA_9010_2_sdf/FL/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163733_0002_FL_general.html",
      "db/html/CCA_9010_2_sdf/FL/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163733_0002_FL_histogram.html",
      "db/html/CCA_9010_2_sdf/FL/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163733_0002_FL_mismatch.html",
      "db/html/CCA_9010_2_sdf/FR/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163733_0002_FR_general.html",
      "db/html/CCA_9010_2_sdf/FR/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163733_0002_FR_histogram.html",
      "db/html/CCA_9010_2_sdf/FR/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163733_0002_FR_mismatch.html",
      "db/html/CCA_9010_2_sdf/RL/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163733_0002_RL_general.html",
      "db/html/CCA_9010_2_sdf/RL/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163733_0002_RL_histogram.html",
      "db/html/CCA_9010_2_sdf/RL/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163733_0002_RL_mismatch.html",
      "db/html/CCA_9010_2_sdf/RR/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163733_0002_RR_general.html",
      "db/html/CCA_9010_2_sdf/RR/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163733_0002_RR_histogram.html",
      "db/html/CCA_9010_2_sdf/RR/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163733_0002_RR_mismatch.html"
    ]
  },
  "3_ert": {
    "video": "db/video/dagfjsdhaf_3_ert.mp4",
    "html_files": [
      "db/html/CCA_9010_3_ert/CCA_9010_3100099_DEBUG_20250828_163748_0003.html",
      "db/html/CCA_9010_3_ert/FL/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163748_0003_FL_general.html",
      "db/html/CCA_9010_3_ert/FL/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163748_0003_FL_histogram.html",
      "db/html/CCA_9010_3_ert/FL/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163748_0003_FL_mismatch.html",
      "db/html/CCA_9010_3_ert/FR/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163748_0003_FR_general.html",
      "db/html/CCA_9010_3_ert/FR/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163748_0003_FR_histogram.html",
      "db/html/CCA_9010_3_ert/FR/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163748_0003_FR_mismatch.html",
      "db/html/CCA_9010_3_ert/RL/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163748_0003_RL_general.html",
      "db/html/CCA_9010_3_ert/RL/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163748_0003_RL_histogram.html",
      "db/html/CCA_9010_3_ert/RL/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163748_0003_RL_mismatch.html",
      "db/html/CCA_9010_3_ert/RR/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163748_0003_RR_general.html",
      "db/html/CCA_9010_3_ert/RR/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163748_0003_RR_histogram.html",
      "db/html/CCA_9010_3_ert/RR/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163748_0003_RR_mismatch.html"
    ]
  },
  "4_sder": {
    "video": "db/video/sadfuisadf_4_sder.avi",
    "html_files": [
      "db/html/CCA_9010_4_sder/CCA_9010_3100099_DEBUG_20250828_163803_0004.html",
      "db/html/CCA_9010_4_sder/FL/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163803_0004_FL_general.html",
      "db/html/CCA_9010_4_sder/FL/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163803_0004_FL_histogram.html",
      "db/html/CCA_9010_4_sder/FL/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163803_0004_FL_mismatch.html",
      "db/html/CCA_9010_4_sder/FR/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163803_0004_FR_general.html",
      "db/html/CCA_9010_4_sder/FR/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163803_0004_FR_histogram.html",
      "db/html/CCA_9010_4_sder/FR/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163803_0004_FR_mismatch.html",
      "db/html/CCA_9010_4_sder/RL/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163803_0004_RL_general.html",
      "db/html/CCA_9010_4_sder/RL/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163803_0004_RL_histogram.html",
      "db/html/CCA_9010_4_sder/RL/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163803_0004_RL_mismatch.html",
      "db/html/CCA_9010_4_sder/RR/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163803_0004_RR_general.html",
      "db/html/CCA_9010_4_sder/RR/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163803_0004_RR_histogram.html",
      "db/html/CCA_9010_4_sder/RR/DETECTION_STREAM/CCA_9010_3100099_DEBUG_20250828_163803_0004_RR_mismatch.html"
    ]
  }
};

    function populateDropdown() {
      const select = document.getElementById('scenarioSelect');
      const keys = Object.keys(mappings).sort();
      select.innerHTML = '';
      keys.forEach((k) => {
        const opt = document.createElement('option');
        opt.value = k;
        opt.textContent = k;
        select.appendChild(opt);
      });
      if (keys.length > 0) {
        select.value = keys[0];
        updateScenario(keys[0]);
      }
      select.addEventListener('change', () => {
        updateScenario(select.value);
      });
    }

    function updateScenario(key) {
      const entry = mappings[key];
      const videoPlayer = document.getElementById('videoPlayer');
      const logName = document.getElementById('logName');
      const btnContainer = document.getElementById('htmlButtons');
      const noHtmlMsg = document.getElementById('noHtmlMsg');

      logName.value = key || '';

      if (entry && entry.video) {
        videoPlayer.src = entry.video;
        videoPlayer.load();
      } else {
        videoPlayer.removeAttribute('src');
      }

      btnContainer.innerHTML = '';
      if (entry && Array.isArray(entry.html_files) && entry.html_files.length > 0) {
        noHtmlMsg.style.display = 'none';
        entry.html_files.forEach((path, i) => {
          const btn = document.createElement('button');
          const name = path.split('/').pop() || ('HTML ' + (i + 1));
          btn.textContent = name;
          btn.addEventListener('click', () => {
            window.open(path, '_blank');
          });
          btnContainer.appendChild(btn);
        });
      } else {
        noHtmlMsg.style.display = 'block';
      }
    }

    document.addEventListener('DOMContentLoaded', populateDropdown);
  </script>
</body>
</html>
